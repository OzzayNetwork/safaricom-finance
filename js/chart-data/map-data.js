$(function () {

    // Initiate the chart
    $('#the-map-container').highcharts('Map', {
        series: [{
            animation: {
                duration: 1000
            },
            name: "Collected Revenue",
            colorByPoint: false,
            color: '#3b3b3b', // blue
            borderWidth: 1,
            borderColor: '#212327',
			borderColor: '#212327',
             dataLabels: {
                enabled: true,
                backgroundColor: 'rgba(0,0,0,0.3)',
                borderRadius: 0,
                padding: 4,
//                color: '#a5a8ad',
                format: '{point.name}',
				 shadow: "none",
               
                style: {
                    textTransform: 'uppercase',
                    fontWeight: '500',
					fontFamily: '"Muli", sans-serif',
  					fontSize: '1rem'
                }
            },
			symbol:'circle',
			 marker: {
            symbol: 'square'
        },
    

            "type": "map",
            "joinBy": "id",
            "mapData": [
                {
                  "id": "id0",
                  "name": "Marani",
                  "path": "M81,71,84,69,87,65,96,60,100,57,106,54,112,52,119,49,121,47,124,45L125,45L127,47,126,52,127,55,128,57,128,61,130,67,130,68,130,70L130,71L129,73,129,75,128,77,128,79,130,81,131,83L131,83L131,84,130,85,131,85,132,85L132,86L133,88,134,89,135,91,135,92,134,94,131,92,130,92,129,91,127,91,125,92,123,90,122,88,120,86,119,86,117,88,116,89,115,89,113,89,113,91,112,93L112,95L110,97,109,99,108,100,107,102,104,97,103,97,100,94,100,93,100,92,99,91,99,90,98,90,98,91,98,92,97,92,95,90,93,88,92,86,92,86,91,85,91,86L86,86L86,85,85,83,85,82,84,82,84,82,84,79,83,78,83,77L83,76L83,75L81,75L81,74,81,73z"
                },
                {
                  "id": "id1",
                  "name": "Kisii South",
                  "path": "M59,86,58,87,57,89,56,90,55,90,54,90,52,90,50,90L49,90L48,90,47,93,45,95,43,100,41,102,41,104,39,112,38,120,38,123,40,129,40,135,41,136,41,137,42,138,42,138,43,138,43,139,44,139,44,139,45,139,45,140L46,140L47,139,48,139,52,139,55,139,56,140,57,140,57,140,58,141,58,140,59,141,59,142,60,142,60,142,61,142,61,143,62,143,62,143,62,143,62,144,63,144,63,144,63,144,64,144,65,143,65,143,66,143,66,143,66,143,67,142,67,142,68,142,69,142,68,141,69,141,69,141,70,141,70,140,71,140,72,140,73,139,74,139,76,139,76,139,77,138,77,138,78,138,78,137,79,137,80,137,80,134,80,133L80,131L80,131,81,130,82,129,82,128,83,127,83,126,84,125,83,125,83,124,83,124,82,121,81,120,80,119,80,118,80,117,79,117,78,115,77,114,77,113,77,113,76,113,76,111,75,111,74,109,74,108,73,107,72,106,71,105,71,103,70,102,69,101,68,100,68,99,67,98,67,97,67,96,66,96,65,95,64,93,63,93,63,92,62,91,62,90,61,90,61,89,60,89,60,88,60,87,59,87z"
                },
                {
                  "id": "id2",
                  "name": "Guchu South",
                  "path": "M40,135,41,137,42,138,42,138,43,138,43,139,44,139,44,139,45,139,45,140L46,140L47,139,48,139,50,139,52,139,55,139,56,140,57,140,57,141,56,142,55,143,55,144,55,144,55,145,55,149,54,149,54,149,54,150,54,150,54,151,54,152,53,152,53,154,54,155,54,156,54,157,55,157,55,158,55,158,55,160,56,161,56,162,56,163,56,164,56,165,56,167,56,169L56,171L57,171,57,172,58,174,59,175,59,176,60,177,60,178,61,178,60,179,61,180L61,182L61,183,61,183,61,184,60,185,59,186,58,186,57,186,57,188,56,188,56,189,55,190,55,190,54,190,55,192,55,192,53,193,51,193,49,193,47,194,46,195,45,195,44,195,43,195,42,195,42,195,41,196,41,196,40,196,40,196,39,197,38,198,37,198,37,198,36,199,35,199,34,200,34,200,33,201,32,201,32,201,31,201,30,202,29,201,30,200,30,198,31,196,32,195,32,193,32,191,33,187,33,184,33,179,33,174,33,168,34,160,34,156,35,153,35,151,35,147,35,147,36,145,37,142,38,140,39,138,40,136z"
                },
                {
                  "id": "id3",
                  "name": "Guchu",
                  "path": "M57,140,57,140,58,141,58,140,59,142,60,142,61,142,61,143,62,143,62,143,62,143,62,144,63,144,63,144,63,144,64,144,65,143,65,143,65,143,65,143,65,143,66,143,66,143,66,143,67,142,67,142,68,142,69,142,69,142,69,145,70,145,70,146,70,147,70,148,70,148,71,149,71,149,71,150,71,151,70,151,70,152,71,153,71,153,71,154,71,155,71,156,72,158,72,159,72,161,73,162,73,162,73,164,74,164,74,165,74,166,74,167,74,167,75,169,75,170,75,172,75,172,75,173,75,173,76,174,76,175,77,176,76,176,76,176,76,178,76,179,76,182,75,182,76,183,76,184,76,184,76,185,77,186,77,187,78,188,78,189L78,189L78,190,79,190,80,191,80,191,81,192,81,193,82,194,82,194,83,195,83,195,84,195,84,196,84,197,84,198,85,198,85,199,85,200,85,200,85,203,85,202,84,202,83,202,83,203,83,204,82,204L81,204L81,203,80,203,80,203,80,202,79,202,79,202,79,202,78,202,78,202L77,202L77,203,77,203,76,204,76,204,76,205,76,205,76,205,76,206,75,206L74,206L74,207,74,207,73,208,74,208,74,210,73,210,73,210,73,211,73,211,72,211,72,212,73,213,73,214,73,215,72,215,72,216,72,217L72,218L72,218,72,219,72,220,71,220,70,220,70,221,70,220,69,220,69,220,68,220,67,220,66,220,66,220,65,220,65,221,63,221,61,221,61,220,61,220,60,219,59,219,58,219,58,219,58,220,57,220,57,221,56,221,56,220,56,219,56,218,56,210,56,205,56,203,57,201,56,197,55,195,55,192,54,190,55,190,55,190,56,189,56,188,57,188,57,186,58,186,59,186,60,185,61,184,61,183,61,183,61,180,60,179,61,178,60,178,60,177,59,176,59,175,58,174,57,172,57,171,56,171,56,167,56,166,56,165,56,164,56,163,56,162,56,161,55,160,55,158,55,158,55,157,54,157,54,155,53,154,53,152,54,152,54,151,54,150,54,150,54,149,54,149,55,148,55,145,55,144,55,144,55,144,55,143,56,142,57,141z"
                },
                {
                  "id": "id4",
                  "name": "Etago",
                  "path": "M29,201,30,202,31,201,32,201,32,201,33,201,34,200,34,200,36,199,37,198,37,198,38,198,39,197,40,196,41,196,41,196,42,195,43,195,44,195,45,195,46,195,47,194,49,193,51,193,55,192,55,195,56,197,57,201,56,203,56,205,56,218,56,219,56,220,56,221,56,227,57,228,57,229,58,230,58,230,58,231,59,232,59,232,60,233,60,233,60,233,61,234,61,235,61,236,61,237,61,238,62,239,62,239,62,240,62,241,64,240,64,240,64,241,64,242,65,243,65,244,66,245,66,246,66,246,67,247,67,247,67,248,67,250,66,251,64,251,61,251L59,251L57,251,56,251,47,251,41,251,38,251,36,251,35,251,35,245,35,243,34,237,33,232,32,226,31,224,31,220,30,218,30,216,30,213,30,212L30,209L30,208,30,206,29,205,28,203,28,202z"
                },
                {
                  "id": "id5",
                  "name": "Kenyenya",
                  "path": "M56,221,57,221,57,220,58,220,58,219,58,219,59,219,60,219,61,220,61,220,61,221,63,221,65,221,65,220,66,220,66,220,68,220,69,220,69,220,70,221,70,220,71,220,72,220,72,219,72,218,72,218,72,216,72,215,73,215,73,214,73,213,72,212,72,211,73,211,73,211,73,210,73,210,74,210,74,208,73,208,74,207,74,207,74,206L75,206L76,206,76,205,76,205,76,205,76,204,76,204,77,203,77,203,77,202L78,202L78,202,79,202,79,202,79,202,80,202,80,203,80,203,81,203,81,204L82,204L83,204,83,202,84,202,85,202,85,203,85,203,86,204,86,204,87,204,87,204L87,204L88,205,88,205,90,205,90,206,90,207,91,207,91,208,92,209,92,209,93,209,93,210,93,211,94,211,95,212,96,213,97,214,97,214,97,214,99,216,100,216,101,216,103,216,103,216,105,216,105,217,105,218L105,219L106,220,106,220,107,221,107,222,107,222,107,225,107,225,108,226,108,227,108,227,108,233,109,234,112,237,112,238,104,240,84,245,68,251,66,251,67,250,67,248,67,247,67,247,66,246,66,246,65,244,65,243,64,242,64,241,64,240,64,240,63,240,62,241,62,240,62,239,62,239,61,238,61,238,61,237,61,236,61,235,61,234,60,233,60,233,60,233,59,232,59,232,58,231,58,230,58,230,57,229,57,228,56,227z"
                },
                {
                  "id": "id6",
                  "name": "Sameta",
                  "path": "M69,142,69,142,68,141,69,141,69,141,70,141,70,140,72,140,74,139,76,139,77,138,77,138,78,138,78,137,80,137,80,138,80,138,80,138,80,139,81,141,81,141,82,142,82,142,85,145,85,146,85,148,86,148,87,150,89,152,90,153,90,154,93,156,93,156,95,158,95,159,96,159,97,160,97,160,98,161,99,161,100,162,100,162,101,163,101,163L101,164L102,165,103,165,103,166,104,166,104,166,105,167,105,167,105,168,106,169,107,169,107,170,107,170,108,171,108,171,108,171,109,172,110,172,110,173,111,174,111,174,112,174,112,174,112,174,112,175,112,175,113,175,114,176,113,176,112,177,112,177,112,177,110,177,109,178,109,178,108,179,108,182,108,184,108,185,107,186,107,187,106,187,106,188,105,188,105,189,103,189,102,188,101,187,101,186,100,185,98,184,98,184,95,184,94,183,92,183,92,181,90,180,89,179,89,179,88,178,88,178,87,177,84,177,83,177,82,177,81,177,80,177,80,177,79,177,77,177,77,178,76,178,76,176,76,176,77,176,76,174,75,173,75,173,75,172,75,172,75,172,75,170,75,169,74,167,74,167,74,166,74,165,74,164,73,164,73,162,73,162,72,161,72,159,72,158,71,156,71,155,71,154,71,153,71,153,70,152,70,151,71,151,71,150,71,149,71,149,70,148,70,148,70,147,70,146,69,145z"
                },
                {
                  "id": "id7",
                  "name": "Nyamache",
                  "path": "M76,178,77,178,77,177,80,177,80,177,81,177,82,177,83,177,84,177,87,177,88,178,88,178,89,179,89,179,90,180,91,180,92,181,92,183,94,183,95,184,98,184,98,184,101,186,102,188,103,189,105,189,105,188,106,188,106,188,106,187,107,187,107,186,108,185,108,184,108,179,109,178,109,178,110,177,112,177,112,177,112,177,113,176,114,176,114,176,116,178,117,179,119,180,120,181,121,183,121,184,121,185,124,188,125,190,126,191,127,191,127,192,127,193,128,193,129,194,129,194,129,195,129,196,130,196,130,197,130,197,130,198,131,198,131,199,131,200,132,201,133,202,134,202,135,203,135,204,135,205,136,206,136,206L136,208L136,209,137,210,138,211,138,212,139,214,140,215,140,216,140,217,140,218,140,218,140,219,141,221,142,222,143,223,144,224,144,225,145,226,145,226,145,228,141,229,135,231,130,232,125,233,119,235,115,236,112,238,112,237,109,234,108,233,108,227,108,227,107,225,107,225,107,222,107,222,107,221,106,220,105,219,105,217,105,216,103,216,103,216,101,216,100,216,99,216,97,214,97,214,97,214,96,213,95,212,94,211,93,211,93,210,93,209,92,209,92,209,91,208,91,207,90,207,90,206,90,205,88,205,88,205,87,204L87,204L87,204,86,204,86,204,85,203,85,203,85,200,85,200,85,199,85,198,84,198,84,197,84,196,84,195,83,195,82,194,82,194,81,193,81,192,80,191,80,191,79,190,78,190,78,189L78,189L78,188,77,187,76,184,76,184,76,183,75,182,76,182,76,179z"
                },
                {
                  "id": "id8",
                  "name": "Kisii Central",
                  "path": "M80,137,80,134,80,133L80,131L80,131,81,130,81,130,82,128,83,127,83,126,84,125,86,125,87,125,93,125,94,125L94,125L95,124L95,124L95,124,96,123,97,123,97,123,98,124,99,126,99,127,99,128,101,128,102,128,103,127,104,127,105,127,106,128,106,129,107,129,108,129,108,130,109,131,109,132,109,133,109,134,110,135,110,134,111,135,112,135,113,136,113,136,114,137,115,138,115,138,116,139,116,139,117,140,118,140,119,142,120,142,121,143,122,144,122,144,124,145,125,146,126,148,127,148,129,149,130,150,131,150,131,151,132,152,133,151,134,152,135,152,135,153,136,152,137,153,138,154,139,155,140,156,141,157,142,158,144,159,144,160,145,159,146,160,147,160,146,160L145,160L145,162,144,162,144,163,143,163,142,163,141,164,140,164,140,165,139,166,138,166,138,166,136,167,136,167L135,167L135,168,135,169,134,170,134,169,134,169,132,169L131,169L131,170,131,171,131,172,131,173,130,175,129,177,129,178,128,179,128,179,128,179,127,180,127,180,127,181,126,181,123,180,123,181,122,182,121,184,121,183,120,181,119,180,117,179,116,178,114,176,114,176,113,175,112,175,112,175,112,174,112,174,112,174,111,174,111,174,110,173,110,172,109,172,108,171,108,171,108,171,107,170,107,170,107,169,105,168,105,167,105,167,104,166,104,166,103,166,103,165,102,165,101,164L101,163L101,163,100,162,100,162,99,161,98,161,97,160,97,160,96,159,95,159,95,158,94,157,93,156,93,156,90,154,90,153,89,152,88,151,86,148,85,148,85,146,85,145,82,142,82,142,81,141,81,141,80,139,80,138,80,138,80,138z"
                },
                {
                  "id": "id9",
                  "name": "Masaba South",
                  "path": "M121,184,123,181,123,180,126,181,127,181,127,180,127,180,128,179,128,179,128,179,129,178,129,177,130,175,131,173,131,172,131,171,131,170,131,169L132,169L134,169,134,169,134,170,135,169,135,168,135,167L136,167L136,167,138,166,138,166,139,166,140,165,140,164,141,164,142,163,143,163,144,163,144,162,145,162,145,160L146,160L147,160,148,161,149,162,151,162,153,162,154,164,155,166,157,169,157,169,162,179,167,188,172,199,177,208,181,217,178,218,175,219,175,219,174,220,172,220,168,221,163,222,161,223,159,223,156,224,153,225,145,228,145,226,145,226,144,225,144,224,143,223,142,222,141,221,140,219,140,218,140,218,140,217,140,216,140,215,139,214,138,212,138,211,137,210,136,209,136,208L136,206L136,206,135,205,135,204,135,203,134,202,133,202,131,200,131,199,131,198,130,198,130,197,130,197,130,196,129,196,129,195,129,194,128,193,127,193,127,192,127,191,126,191,125,190,121,185z"
                },
                {
                  "id": "id10",
                  "name": "Kitui Central",
                  "path": "M59,86,63,78,64,78,66,77,66,77,67,76,66,75,66,74,66,73,66,72,67,71,67,70,67,70,68,70,69,70,71,71,71,71,72,70,73,69,74,69,74,68,75,69,76,69,77,70,78,69,79,70,80,71,81,71,81,73,81,74,81,75L83,75L83,76L83,77L83,78,84,79,84,80,84,82,84,82,85,82,85,83,86,85,86,86L91,86L91,85,92,86,92,86,93,88,95,90,97,92,98,92,98,91,98,90,99,90,99,91,100,92,100,93,100,94,103,97,104,97,107,102,107,103,107,103,107,104,106,104,106,105,106,107,105,108,104,110,104,111,103,111,103,112,103,113,103,114,104,115,104,116,104,116,105,118,105,118,105,119,104,119,104,118,103,118,102,118,101,118,101,118,100,117,100,117,99,117,99,118,98,118,97,118,97,118,97,119L97,119L97,120,97,120,96,121,96,122,97,123,96,123,96,123,95,124,95,124L95,124L94,124,94,125L94,125L93,125,87,125,86,125,84,125,83,125,83,124,83,124,82,122,82,121,81,120,80,119,80,118,80,117,79,117,78,115,77,114,77,113,77,113,76,113,76,111,75,111,74,109,73,107,72,106,72,106,71,105,71,103,70,103,70,102,69,101,68,100,68,99,67,98,67,97,67,96,66,96,65,95,64,93,63,93,63,92,62,91,62,90,61,90,61,89,60,89,60,88,60,87,59,87z"
                }
              ],
            data: [{
                    //Langata
                    "id": "id0",
                    "y": 0,
                    drilldown: 'langata',
                    value: 30
                },
                {
                    //dagoreti south
                    "id": "id1",
                    "y": 1,
                    value: 6,
                    drilldown: 'dagoreti_south',
                    name: "Point2",
                },
                {
                    //kibra
                    "id": "id2",
                    "y": 2,
                    drilldown: 'kibra',
                    value: 252389
                },
                {
                    //dagoreti north
                    "id": "id3",
                    "y": 3,
                    value: 256488
                },
                {
                    //starehe
                    "id": "id4",
                    "y": 4,
                    value: 924656
                },
                {
                    //westlands
                    "id": "id5",
                    "y": 5,
                    value: 333
                },
                {
                    //embakasi south
                    "id": "id6",
                    "y": 6,
                    value: 3216
                },
                {
                    //makadara
                    "id": "id7",
                    "y": 7,
                    value: 23215
                },
                {
                    //embakasi west
                    "id": "id8",
                    "y": 8,
                    value: 1564962
                },
                {
                    //embakasi central
                    "id": "id9",
                    "y": 9,
                    value: 3165

                },
                {
                    //kamkunji
                    "id": "id10",
                    "y": 10,
                    value: 6216532
                },
                {
                    //embakasi north
                    "id": "id11",
                    "y": 11,
                    value: 56523
                },
                {
                    //embakasi east
                    "id": "id12",
                    "y": 12,
                    value: 132132
                },
                {
                    //kasarani
                    "id": "id13",
                    "y": 13,
                    value: 65413
                },
                {
                    //ruaraka 
                    "id": "id14",
                    "y": 14,
                    value: 656132
                },
                {
                    //mathare
                    "id": "id15",
                    "y": 15,
                    value: 321165
                },
                {
                    //roysambu
                    "id": "id16",
                    "y": 16,
                    value: 1632
                },
                {
                    //unmatched      
                    "id": "id18",
                    "y": 18,
                    value: 11365895
                },
                {
                    //langata
                    "id": "id19",
                    "y": 19,
                    value: 3
                }
            ]
        }],
        drilldown: {
            chart: {
                backgroundColor: 'transparent',
                type: 'column'
          },
            series: [{
              type: 'bar',
              id: 'langata',
              name: 'langata',
              colorByPoint: true,
              data: [{
                name: '1st',
                y: 22,
                drilldown: 'dec1'
            },
            {
                name: '2nd',
                y: 22,
                drilldown: 'dec2'
            },
            {
                name: '3rd',
                y: 224,
                drilldown: 'dec3'
            },
            {
                name: '4th',
                y: 202,
                drilldown: 'dec3'
            },
            {
                name: '5th',
                y: 272,
                drilldown: 'dec5'
            },
            {
                name: '6th',
                y: 172,
                drilldown: 'dec6'
            }, {
                name: '7th',
                y: 122,
                drilldown: 'dec6'
            }, {
                name: '8th',
                y: 172,
                drilldown: 'dec8'
            }, {
                name: '9th',
                y: 105,
                drilldown: 'dec9'
            }, {
                name: '10th',
                y: 272,
                drilldown: 'dec10'
            }, {
                name: '11th',
                y: 272,
                drilldown: 'dec11'
            }, {
                name: '12th',
                y: 572,
                drilldown: 'dec12'
            }, {
                name: '13th',
                y: 72,
                drilldown: 'dec13'
            }, {
                name: '13th',
                y: 292,
                drilldown: 'dec13'
            }, {
                name: '14th',
                y: 472,
                drilldown: 'dec14'
            }, {
                name: '15th',
                y: 272,
                drilldown: 'dec15'
            }, {
                name: '16th',
                y: 394,
                drilldown: 'dec16'
            }, {
                name: '17th',
                y: 27,
                drilldown: 'dec17'
            }, {
                name: '18th',
                y: 372,
                drilldown: 'dec18'
            }, {
                name: '19th',
                y: 524,
                drilldown: 'dec19'
            }, {
                name: '20th',
                y: 564,
                drilldown: 'dec20'
            }, {
                name: '21st',
                y: 272,
                drilldown: 'dec21'
            }, {
                name: '22nd',
                y: 22,
                drilldown: 'dec22'
            }, {
                name: '23rd',
                y: 272,
                drilldown: 'dec23'
            }, {
                name: '24th',
                y: 272,
                drilldown: 'dec24'
            }, {
                name: '25th',
                y: 172,
                drilldown: 'dec25'
            }, {
                name: '26th',
                y: 272,
                drilldown: 'dec26'
            }, {
                name: '27th',
                y: 272,
                drilldown: 'dec27'
            }, {
                name: '28th',
                y: 452,
                drilldown: 'dec28'
            }, {
                name: '29th',
                y: 458,
                drilldown: 'dec29'
            }, {
                name: '30th',
                y: 226,
                drilldown: 'dec30'
            }, {
                name: '31st',
                y: 152,
                drilldown: 'dec31'
            }
              ]
            },{
              type: 'bar',
              id: 'dagoreti_south',
              name: 'dagoreti_south',
              colorByPoint: true,
              data: [
                ['Column1OC', 9],
                ['Column2OC', 1],
                ['Column3OC', 4]
              ]
            },{
              type: 'bar',
              name: 'kibra',
              id: 'kibra',
              colorByPoint: true,
              data: [
                ['Column1AF', 6],
                ['Column2AF', 6],
                ['Column3AF', 5]
              ]
            },{
              type: 'bar',
              name: 'Asia',
              colorByPoint: true,
              data: [
                ['Column1AS', 9],
                ['Column2AS', 1],
                ['Column3AS', 2]
              ]
            },{
              type: 'bar',
              name: 'North America',
              colorByPoint: true,
              data: [
                ['Column1NA', 9],
                ['Column2NA', 1],
                ['Column3NA', 9]
              ]
            },{
              type: 'bar',
              name: 'South America',
              colorByPoint: true,
              data: [
                ['Column1SA', 2],
                ['Column2SA', 9],
                ['Column3SA', 2]
              ]
            }]
          },
        chart: {
            type: 'column',
            backgroundColor: 'transparent'
        },
        lang: {
            thousandsSep: ','
        },
        title: {
            text: 'Collections By sub County',
            style: {
                color: '#a5a8ad',
				align: 'left'
            }
        },
        mapNavigation: {
            enabled: true,


        },
        colorAxis: {
            fill: 'red',
            min: 1,
            backgroundColor: 'red',
            type: 'logarithmic',
            minColor: '#3b3b3b',
            maxColor: '#45d21a',
            /* stops: [
                [0, '#3b3b3b'],
                [0.46, '#40802c'],
                [1, '#45d21a']
            ] */
        },
        legend: {
            layout: 'vertical',
            align: 'left',
            verticalAlign: 'bottom',
            floating: true,
            backgroundColor: 'transparent',
            shadow: false

        },

        tooltip: {
            headerFormat: '<span style="font-size:16px; font-weight:800;">{series.name}</span><br>',
            pointFormat: '<span  style="font-size:16px; font-weight:800; color:{point.color}; text-transform:ucapitalize;">{point.name}</span>: <b style="color:{point.color}">KES {point.value}</b><br/>',


        },

        /* navigation: {
          buttonOptions: {
            theme: {
              'stroke-width': 1,
              stroke: 'white',
              r: 0,
              states: {
                hover: {
                  fill: '#bada55'
                },
                select: {
                  stroke: '#039',
                  fill: '#bbadab'
                }
              }
            }
          }
        } */


    });

});

//setting todays date
var the_date =moment().format("MMMM Do YYYY");
	$('.map-date').text(the_date);

// button functions

// the financial year's data
$('#financial-year').click(function () {
	//getting financial year
	var this_year=moment().format("YYYY");
	var last_year=moment().subtract(1, 'year').format("YYYY");
	var next_year=moment().add(1, 'years').format("YYYY");
	var this_month=moment().format("MM");
	var this_month=parseInt(this_month);
	var fy=last_year+"/"+this_year;
	if(this_month>6){
		fy=this_year+"/"+next_year;
	}
	
	$('.map-date').text(fy+" Financial Year");
	 //changing color axis colors
	$(this).addClass("active").siblings().removeClass("active");
    $('#the-map-container').highcharts()
        .colorAxis[0].update({
            min: 1,

            minColor: '#3b3b3b',
            maxColor: '#2e71ff'
        });
    var chart2 = $('#the-map-container').highcharts();
    //the data 
    chart2.series[0].update([{
            "id": "id0",
            "y": 0,
            value: 330
        },
        {
            //dagoreti south
            "id": "id1",
            "y": 1,
            value: 36,

        },
        {
            //kibra
            "id": "id2",
            "y": 2,
            value: 3252389
        },
        {
            //dagoreti north
            "id": "id3",
            "y": 3,
            value: 3256488
        },
        {
            //starehe
            "id": "id4",
            "y": 4,
            value: 3924656
        },
        {
            //westlands
            "id": "id5",
            "y": 5,
            value: 3333
        },
        {
            //embakasi south
            "id": "id6",
            "y": 6,
            value: 33216
        },
        {
            //makadara
            "id": "id7",
            "y": 7,
            value: 323215
        },
        {
            //embakasi west
            "id": "id8",
            "y": 8,
            value: 31564962
        },
        {
            //embakasi central
            "id": "id9",
            "y": 9,
            value: 33165

        },
        {
            //kamkunji
            "id": "id10",
            "y": 10,
            value: 36216532
        },
        {
            //embakasi north
            "id": "id11",
            "y": 11,
            value: 356523
        },
        {
            //embakasi east
            "id": "id12",
            "y": 12,
            value: 3132132
        },
        {
            //kasarani
            "id": "id13",
            "y": 13,
            value: 365413
        },
        {
            //ruaraka 
            "id": "id14",
            "y": 14,
            value: 656132
        },
        {
            //mathare
            "id": "id15",
            "y": 15,
            value: 321165
        },
        {
            //roysambu
            "id": "id16",
            "y": 16,
            value: 30000000
        },
        {
            //unmatched      
            "id": "id18",
            "y": 18,
            value: 300000
        },
        {
            //langata
            "id": "id19",
            "y": 19,
            value: 332568962
        }
    ]);
    $(this).attr('disabled', true).siblings().attr('disabled', false);
    $('#this-month').attr('disabled', false);
    $('#today').attr('disabled', false);
});

//monthly data for this month
$('#this-month').click(function () {
	
	//geting the date
	var the_date =moment().format("MMMM YYYY");
	$('.map-date').text(the_date);
	
    //changing color
	$(this).addClass("active").siblings().removeClass("active");
    $('#the-map-container').highcharts()
        .colorAxis[0].update({
            min: 1,

            minColor: '#3b3b3b',
            maxColor: '#fdc502'
        });

    var chart2 = $('#the-map-container').highcharts();
    chart2.series[0].update([{
            "id": "id0",
            "y": 0,
            value: 230
        },
        {
            //dagoreti south
            "id": "id1",
            "y": 1,
            value: 26,
            name: "Point2",
        },
        {
            //kibra
            "id": "id2",
            "y": 2,
            value: 2252389
        },
        {
            //dagoreti north
            "id": "id3",
            "y": 3,
            value: 2256488
        },
        {
            //starehe
            "id": "id4",
            "y": 4,
            value: 2924656
        },
        {
            //westlands
            "id": "id5",
            "y": 5,
            value: 2333
        },
        {
            //embakasi south
            "id": "id6",
            "y": 6,
            value: 23216
        },
        {
            //makadara
            "id": "id7",
            "y": 7,
            value: 223215
        },
        {
            //embakasi west
            "id": "id8",
            "y": 8,
            value: 21564962
        },
        {
            //embakasi central
            "id": "id9",
            "y": 29,
            value: 23165

        },
        {
            //kamkunji
            "id": "id10",
            "y": 10,
            value: 26216532
        },
        {
            //embakasi north
            "id": "id11",
            "y": 11,
            value: 256523
        },
        {
            //embakasi east
            "id": "id12",
            "y": 12,
            value: 2132132
        },
        {
            //kasarani
            "id": "id13",
            "y": 13,
            value: 265413
        },
        {
            //ruaraka 
            "id": "id14",
            "y": 14,
            value: 2656132
        },
        {
            //mathare
            "id": "id15",
            "y": 15,
            value: 2321165
        },
        {
            //roysambu
            "id": "id16",
            "y": 16,
            value: 21632
        },
        {
            //unmatched      
            "id": "id18",
            "y": 18,
            value: 211365895
        },
        {
            //langata
            "id": "id19",
            "y": 19,
            value: 23
        }
    ]);
     $(this).attr('disabled', true).siblings().attr('disabled', false);
    $('#financial-year').attr('disabled', false);
    $('#today').attr('disabled', false);
});

//daily data for today
$('#today').click(function () {
	//geting the date
	var the_date =moment().format("MMMM Do YYYY");
	$('.map-date').text(the_date);
//	alert(the_date);
    //color change
	$(this).addClass("active").siblings().removeClass("active");
    $('#the-map-container').highcharts()
        .colorAxis[0].update({
            min: 1,

            minColor: '#3b3b3b',
            maxColor: '#45d21a'
        });
    var chart2 = $('#the-map-container').highcharts();
    chart2.series[0].update([{
                "id": "id0",
                "y": 0,
                value: 30
            },
            {
                //dagoreti south
                "id": "id1",
                "y": 1,
                value: 6,
                name: "Point2",
            },
            {
                //kibra
                "id": "id2",
                "y": 2,
                value: 252389
            },
            {
                //dagoreti north
                "id": "id3",
                "y": 3,
                value: 256488
            },
            {
                //starehe
                "id": "id4",
                "y": 4,
                value: 924656
            },
            {
                //westlands
                "id": "id5",
                "y": 5,
                value: 333
            },
            {
                //embakasi south
                "id": "id6",
                "y": 6,
                value: 3216
            },
            {
                //makadara
                "id": "id7",
                "y": 7,
                value: 23215
            },
            {
                //embakasi west
                "id": "id8",
                "y": 8,
                value: 1564962
            },
            {
                //embakasi central
                "id": "id9",
                "y": 9,
                value: 3165

            },
            {
                //kamkunji
                "id": "id10",
                "y": 10,
                value: 6216532
            },
            {
                //embakasi north
                "id": "id11",
                "y": 11,
                value: 56523
            },
            {
                //embakasi east
                "id": "id12",
                "y": 12,
                value: 132132
            },
            {
                //kasarani
                "id": "id13",
                "y": 13,
                value: 65413
            },
            {
                //ruaraka 
                "id": "id14",
                "y": 14,
                value: 656132
            },
            {
                //mathare
                "id": "id15",
                "y": 15,
                value: 321165
            },
            {
                //roysambu
                "id": "id16",
                "y": 16,
                value: 1632
            },
            {
                //unmatched      
                "id": "id18",
                "y": 18,
                value: 11365895
            },
            {
                //langata
                "id": "id19",
                "y": 19,
                value: 3
            }
        ]

    );
     $(this).attr('disabled', true).siblings().attr('disabled', false);
    $('#financial-year').attr('disabled', false);
    $('#this-month').attr('disabled', false);
});

//this week
    $('#this-week').click(function() {
		//getting this weeks dates
		const today = moment();
		const otherday=moment()
		const too_date = otherday.endOf('week');	
		const from_date = today.startOf('week');			
		const the_date=from_date.format("MMMM Do YYYY")+' To '+too_date.format("MMMM Do YYYY");
		$('.map-date').text(the_date);
		
		
    //color change
		$(this).addClass("active").siblings().removeClass("active");
    $('#the-map-container').highcharts()
            .colorAxis[0].update({
				min: 1,
				
				minColor: '#3b3b3b',
				maxColor: '#ea00d9'
			});
    		 var chart2 = $('#the-map-container').highcharts();
        chart2.series[0].update( [
      {
        "id": "id0",
        "y": 0,
        value: 30
      },
      {
        //dagoreti south
        "id": "id1",
        "y": 1,
        value: 6,
        name: "Point2",
      },
      {
      	//kibra
        "id": "id2",
        "y": 2,
        value: 2572389
      },
      {
      	//dagoreti north
        "id": "id3",
        "y": 3,
        value:2576488
      },
      {
      //starehe
        "id": "id4",
        "y": 4,
        value: 9274656
      },
      {
      	//westlands
        "id": "id5",
        "y": 5,
        value:3337776
      },
      {
      	//embakasi south
        "id": "id6",
        "y": 6,
        value:673216
      },
      {
      	//makadara
        "id": "id7",
        "y": 7,
        value: 2328715
      },
      {
      	//embakasi west
        "id": "id8",
        "y": 8,
        value:15564962
      },
      {
      	//embakasi central
        "id": "id9",
        "y": 9,
        value:3166785
        
      },
      {
      	//kamkunji
        "id": "id10",
        "y": 10,
        value:6216789532
      },
      {
      	//embakasi north
        "id": "id11",
        "y": 11,
        value:565423
      },
      {
      	//embakasi east
        "id": "id12",
        "y": 12,
        value:1325132
      },
      {
      	//kasarani
        "id": "id13",
        "y": 13,
        value:657413
      },
      {
      	//ruaraka 
        "id": "id14",
        "y": 14,
        value:6567132
      },
      {
      	//mathare
        "id": "id15",
        "y": 15,
        value:3271165
      },
      {
      	//roysambu
        "id": "id16",
        "y": 16,
        value:1789632
      },      
      {
      //unmatched      
        "id": "id18",
        "y": 18,
        value:11365895
      },
      {
      	//langata
        "id": "id19",
        "y": 19,
        value:78903
      }
    ]
        
        );
        $(this).attr('disabled', true).siblings().attr('disabled', false);
        $('#financial-year').attr('disabled', false);
         $('#this-month').attr('disabled', false);
    });
